<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head}"></head>
<body class="  ">
<aside th:replace="~{fragments :: sidebar(number=${pagenmb})}"></aside>
<main class="main-content">
  <div th:replace="~{fragments :: navbar}"></div>
  <div class="conatiner-fluid content-inner mt-n5 py-0">
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <div class="row">

            <div class="col-lg-3 col-md-6">
              <div class="card bg-soft-info">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="bg-soft-info rounded p-3">
                      <svg class="icon-20" xmlns="http://www.w3.org/2000/svg"  width="20px"  viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                      </svg>
                    </div>
                    <div class="text-end">
                      <h2 class="counter" th:text="${users}"></h2>
                      Користувачів
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-3 mx-5">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex justify-content-between mb-3">
                    <div>
                      <span>Фільмів у прокаті</span>
                    </div>
                  </div>
                  <div class="d-flex justify-content-between">
                    <div class="d-flex align-items-center">
                      <div class="border rounded p-3 bg-soft-primary me-3">
                        <svg class="icon-20" width="20"  viewBox="0 0 24 24">
                          <path fill="currentColor" d="M19 3H5A2 2 0 0 0 3 5V19A2 2 0 0 0 5 21H19A2 2 0 0 0 21 19V5A2 2 0 0 0 19 3M5 19V17H8.13A4.13 4.13 0 0 0 9.4 19M19 19H14.6A4.13 4.13 0 0 0 15.87 17H19M19 15H14V16A2 2 0 0 1 10 16V15H5V5H19Z" />
                        </svg>
                      </div>
                      <h2 class="counter" th:text="${releasedFilms}">352</h2>
                    </div>
                    <div class="pt-3">
                      <svg class="icon-20" xmlns="http://www.w3.org/2000/svg" width="20px"   viewBox="0 0 20 20" fill="#344ed1">
                        <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                      </svg>
                    </div>
                  </div>
                </div>
              </div>
            </div>

              <div class="col-lg-3 col-md-6">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="bg-info text-white rounded p-3">
                        <svg fill="currentColor" height="22" width="22" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                             viewBox="0 0 297 297" xml:space="preserve">
<g>
	<path d="M176.123,89.156l-51.766-34.511c-0.519-0.346-1.12-0.528-1.741-0.528c-0.514,0-1.023,0.128-1.476,0.371
		c-1.025,0.548-1.661,1.608-1.661,2.768v69.021c0,1.159,0.635,2.219,1.658,2.766c1.002,0.539,2.274,0.474,3.22-0.155l51.766-34.511
		c0.875-0.583,1.397-1.559,1.397-2.61S176.998,89.74,176.123,89.156z"/>
  <path d="M286.542,3.66H10.458C4.682,3.66,0,8.343,0,14.118v155.298c0,5.775,4.682,10.458,10.458,10.458h276.085
		c5.775,0,10.458-4.682,10.458-10.458V14.118C297,8.343,292.318,3.66,286.542,3.66z M184.244,106.559l-51.766,34.511
		c-2.93,1.954-6.341,2.986-9.862,2.986c-2.918,0-5.819-0.728-8.391-2.105c-5.789-3.1-9.386-9.106-9.386-15.673V57.256
		c0-6.568,3.598-12.574,9.388-15.674c2.568-1.377,5.47-2.105,8.389-2.105c3.523,0,6.934,1.034,9.864,2.988l51.764,34.51
		c4.957,3.304,7.917,8.834,7.917,14.792C192.161,97.725,189.201,103.255,184.244,106.559z"/>
  <path d="M193.468,220.658v-16.732c0-5.775-4.682-10.458-10.458-10.458h-69.021c-5.775,0-10.458,4.682-10.458,10.458v16.732h27.713
		c8.353,0,15.359,5.797,17.255,13.575c1.896-7.777,8.902-13.575,17.255-13.575H193.468z"/>
  <path d="M234.776,235.299h-69.021c-1.73,0-3.137,1.407-3.137,3.137v51.766c0,1.73,1.407,3.137,3.137,3.137h69.021
		c1.73,0,3.137-1.407,3.137-3.137v-51.766C237.914,236.707,236.506,235.299,234.776,235.299z"/>
  <path d="M131.245,235.299H62.224c-1.73,0-3.137,1.407-3.137,3.137v51.766c0,1.73,1.407,3.137,3.137,3.137h69.021
		c1.73,0,3.137-1.407,3.137-3.137v-51.766C134.382,236.707,132.975,235.299,131.245,235.299z"/>
  <path d="M286.542,193.468h-69.021c-5.775,0-10.458,4.682-10.458,10.458v16.732h27.713c9.803,0,17.778,7.975,17.778,17.778v27.713
		h33.988c5.775,0,10.458-4.682,10.458-10.458v-51.766C297,198.151,292.318,193.468,286.542,193.468z"/>
  <path d="M89.937,220.658v-16.732c0-5.775-4.683-10.458-10.458-10.458H10.458C4.682,193.468,0,198.151,0,203.926v51.766
		c0,5.775,4.682,10.458,10.458,10.458h33.988v-27.713c0-9.803,7.975-17.778,17.778-17.778H89.937z"/>
</g>
</svg>
                      </div>
                      <div class="text-end">
                        Кінотеатрів
                        <h2 class="counter" th:text="${cinemas}"></h2>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

          </div>
            <div>
            <canvas id="barChart"></canvas>
          </div>
            <div class="mt-5">
              <canvas id="linearChart"></canvas>
            </div>
            <div class="mt-5" style="width:400px; height: 400px;">
              <canvas id="doughnutChart" ></canvas>
            </div>

          </div>
        </div>
      </div>
      </div>
    </div>
</main>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="text/javascript" th:inline="javascript">
  const barChart = document.getElementById('barChart');
  const linearChart = document.getElementById('linearChart');
  const doughnutChart = document.getElementById('doughnutChart');
  var barData = [[${filmSessionsInMonth}]]
  var linearData = [[${filmSessionsPriceInMonth}]]
  var doughnutData = [[${usersLanguage}]]
  new Chart(barChart, {
    type: 'bar',
    data: {
      labels: ['Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', 'Червень', 'Липень', 'Серпень', 'Вересень', 'Жовтень', 'Листопад', 'Грудень'],
      datasets: [{
        label: 'Кількість сеансів на місяць',
        data: barData,
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });

  new Chart(linearChart, {
    type: 'line',
    data: {
      labels: ['Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', 'Червень', 'Липень', 'Серпень', 'Вересень', 'Жовтень', 'Листопад', 'Грудень'],
      datasets: [{
        label: 'Середня ціна квитка на місяць',
        data: linearData,
        fill: false,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      }]
    },
  });

  new Chart(doughnutChart, {
    type: 'pie',
    data: {
      labels: ['Українська', 'Англійська'],
      datasets: [{
        label: 'Мова користувачів',
        data: doughnutData,
        backgroundColor: [
      'rgb(75, 192, 192)',
      'rgb(54, 162, 235)'
    ],
    hoverOffset: 4
      }]
    },
  });



</script>
</body>
</html>